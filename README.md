# DAアルゴリズムとボストン方式の比較分析プログラム
## 概要
DAアルゴリズムとボストン方式の性質を比較するために、効率性（「効用」と「第一希望にマッチした割合」とに分けられる）・安定性・容易性の三つの評価軸を設け、さまざまな規模や選好の分布でのマッチングに対し、それらの値を算出するプログラムである。評価軸の概要について、以下に説明する。   
※研究室配属問題を前提とした学生と研究室の学生提案マッチングを想定したものである

(1) 効率性 (efficiency)  
学生と研究室の総合的な効用を測る評価軸である。それぞれのマッチした相手の選好
順位に応じてボルダ方式のように値を与えた（(相手の総数+1)-(マッチした相手が該当する希望順位)）「効用」と、「第一希望にマッチした人数の割合」の二項目によって判断する。前者について、値が大きいほど効率性が高く、プレイヤーがより望んだ相手とマッチできていることが分かる。  

(2) 安定性 (stability)  
制度の持続可能性を測る。これには、マッチングによって生まれたブロッキング・ペア
の数を用いる。この値が小さいほどマッチングの安定性が高く。駆け落ちによるマッチングの崩壊が起こりにくい。  

(3) 容易性 (easiness)  
制度の実現しやすさを表す評価軸である。具体的には、学生が研究室にプロポーズし
た回数で算出する。これは、面接や選考アンケートの手間として捉えてよい。したがって、この値が小さいほどマッチングにかかる手間が少なく済むということである。  

### 選好について
学生と研究室の選好を生成するモデルについて説明する。

学生と研究室が持つ選好について、より現実的なケースに近似させるため、人気度や成績に影響を受けるような以下のモデルを設定した。それぞれ、効用 U が高いほど選好順位が高くなる。  

学生の効用 : Uij = αCVj + (1-α)PVij  
研究室の効用 : Uji = βSVi + (1-β)QVji  

Uij = 学生 i の研究室 j に対する効用  
CVj = 研究室 j の人気度  
PVij = 学生 i の研究室 j に持つ好みの度合い  
α = 学生間の研究室に対する好みの相関パラメータ, 0〜1の間で設定   
Uji = 研究室 j の学生 i に対する効用  
SVi = 学生 i の人気度  
QVji = 研究室 j の学生 i に持つ好みの度合い  
β = 研究室間の学生に対する好みの相関パラメータ, 0〜1の間で設定  

α, βの値が大きいほど、学生と研究室はそれぞれの人気度や成績に影響を受けた選好を持つことになる。例えば、αを 0 に設定すると学生の選好が一様となり学生同士の競争が起きにくくなる。逆に0.9のときは研究室の人気度が最大限反映され、似通った選好を持つ学生が極めて多くなる。  
この式を用い、全てのi, jについてCVj, SVi及びPVij, QVjiを [0, 1]区間の一様分布上でランダムに生成し、各々の効用 Uij, Uji を得る。 

## 使用法
23行からのS, C, CP([]内に研究室1つあたりの定員を入力), T, α, βに調べたい任意の数値を入力し実行する。  
※定員については、CPを無効にして123行目のcapacityに研究室数の要素を持ったリストを記述することで、全研究室に個別の定員を設定したシミュレーションをすることもできる。

## あとがき
本プログラムは筆者が駒澤大学経済学部の卒業論文の一環で制作したものです。アルゴリズム部分については、川越敏司『基礎から学ぶマーケット・デザイン』(有斐閣, 2021)を参考にさせていただきました。
